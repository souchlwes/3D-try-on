<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Irresistible ‚Äì Irene & Seulgi</title>
  <link href="https://fonts.googleapis.com/css2?family=VT323&display=swap" rel="stylesheet">
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body, html {
      height: 100%;
      font-family: 'VT323', monospace;
      background-color: black;
      overflow: hidden;
    }
    .container {
      position: relative;
      width: 100%;
      height: 100%;
    }
    .background {
      position: absolute;
      width: 100%;
      height: 100%;
      object-fit: cover;
      z-index: 0;
    }
    #visualizer {
      position: absolute;
      width: 100%;
      height: 100%;
      z-index: 1;
    }
    .mac-bar {
      position: absolute;
      top: 0;
      width: 100%;
      padding: 10px;
      background-color: rgba(0, 0, 0, 0.85);
      color: #00ffcc;
      font-size: 16px;
      text-align: center;
      z-index: 5;
      box-shadow: 0 0 12px rgba(0, 255, 200, 0.5);
    }
    .taskbar {
      position: absolute;
      bottom: 0;
      width: 100%;
      background-color: rgba(20, 20, 20, 0.8);
      padding: 8px;
      display: flex;
      justify-content: center;
      gap: 12px;
      z-index: 3;
    }
    .taskbar button {
      background-color: rgba(255, 255, 255, 0.1);
      color: white;
      border: 1px solid white;
      padding: 6px 12px;
      border-radius: 6px;
      cursor: pointer;
    }
    .window {
      position: absolute;
      width: 260px;
      background-color: rgba(0, 0, 0, 0.85);
      border: 2px solid white;
      border-radius: 8px;
      z-index: 4;
      box-shadow: 0 0 20px rgba(0, 255, 200, 0.6);
      display: none;
    }
    .titlebar {
      background-color: rgba(255, 255, 255, 0.1);
      padding: 8px;
      font-weight: bold;
      cursor: move;
      border-bottom: 1px solid white;
    }
    .content {
      padding: 12px;
      color: white;
      font-size: 14px;
    }
    #playButton {
      padding: 10px 20px;
      font-size: 14px;
      background-color: rgba(255, 255, 255, 0.1);
      color: white;
      border: 1px solid white;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="container">
    <img src="7xXG83DH6LHhMbst2wpvQ.jpeg" alt="Background" class="background" />
    <canvas id="visualizer"></canvas>

    <div class="mac-bar" id="lyricBar">‚ô™ Irresistible ‚Äì Irene & Seulgi ‚ô™</div>

    <div class="taskbar">
      <button onclick="toggleWindow('infoWindow')">ü¶™ Info</button>
      <button onclick="toggleWindow('playerWindow')">üéµ Player</button>
    </div>

    <div id="infoWindow" class="window" style="top: 80px; left: 60px;">
      <div class="titlebar">About This Song</div>
      <div class="content">
        <p><strong>Red Velvet ‚Äì Irene & Seulgi</strong></p>
        <p>Irresistible: A velvet-glow concept with pearls and obsession.</p>
      </div>
    </div>

    <div id="playerWindow" class="window" style="top: 200px; left: 120px;">
      <div class="titlebar">Music Player</div>
      <div class="content">
        <button id="playButton">‚ñ∂ Play Song</button>
        <audio id="audioPlayer" src="https://www.dropbox.com/scl/fi/80hjn9qa4jqioclui5aa1/Irresistible.mp3?rlkey=jcitnyg5kctbwa44v15q2nj9l&st=bbvk4359&raw=1"></audio>
      </div>
    </div>
  </div>
  <script>
    function toggleWindow(id) {
      const win = document.getElementById(id);
      win.style.display = win.style.display === 'block' ? 'none' : 'block';
    }

    document.querySelectorAll('.window').forEach(win => {
      const title = win.querySelector('.titlebar');
      let offsetX, offsetY, isDragging = false;

      title.addEventListener('mousedown', e => {
        isDragging = true;
        offsetX = e.clientX - win.offsetLeft;
        offsetY = e.clientY - win.offsetTop;
      });

      document.addEventListener('mousemove', e => {
        if (isDragging) {
          win.style.left = `${e.clientX - offsetX}px`;
          win.style.top = `${e.clientY - offsetY}px`;
        }
      });

      document.addEventListener('mouseup', () => {
        isDragging = false;
      });
    });

    const audio = document.getElementById('audioPlayer');
    const canvas = document.getElementById('visualizer');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;

    let audioCtx, analyser, source, dataArray;

    document.getElementById('playButton').addEventListener('click', () => {
      if (!audioCtx) {
        audioCtx = new (window.AudioContext || window.webkitAudioContext)();
        analyser = audioCtx.createAnalyser();
        source = audioCtx.createMediaElementSource(audio);
        source.connect(analyser);
        analyser.connect(audioCtx.destination);
        analyser.fftSize = 256;
        dataArray = new Uint8Array(analyser.frequencyBinCount);
        drawVisualizer();
      }

      if (audio.paused) {
        audio.play();
        playButton.textContent = '‚è∏ Pause Song';
      } else {
        audio.pause();
        playButton.textContent = '‚ñ∂ Play Song';
      }
    });

    function drawVisualizer() {
      requestAnimationFrame(drawVisualizer);
      analyser.getByteFrequencyData(dataArray);
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      const barWidth = canvas.width / dataArray.length;
      for (let i = 0; i < dataArray.length; i++) {
        const barHeight = dataArray[i] * 1.5;
        const x = i * barWidth;
        const y = canvas.height - barHeight;
        const glow = `rgba(0, 255, 200, ${barHeight / 300})`;
        ctx.fillStyle = glow;
        ctx.shadowBlur = 20;
        ctx.shadowColor = glow;
        ctx.fillRect(x, y, barWidth - 2, barHeight);
      }
    }
    const lyricBar = document.getElementById('lyricBar');
    const lyrics = [
      { time: 5, text: "Irresistible (Body got you obsessed)" },
      { time: 13, text: "Irresistible (In my little black dress)" },
      { time: 21, text: "Irresistible (Betcha losin' your breath)" },
      { time: 29, text: "They tell me, my kiss is so irresistible" },
      { time: 37, text: "Cheonnune gamgin neoin geol (Love?)" },
      { time: 45, text: "Nunmeoreobeoril geot gata (Yeah)" },
      { time: 53, text: "Before you know it, you'll be mine" },
      { time: 61, text: "Move my lips, bimilseureon yaegi" },
      { time: 69, text: "You gotta have it, ooh" },
      { time: 77, text: "Irresistible (Taking over your world)" },
      { time: 85, text: "Irresistible (In my diamonds and pearls)" },
      { time: 93, text: "Irresistible (You're falling in love)" },
      { time: 101, text: "They tell me, my kiss is so irresistible" },
      { time: 109, text: "Ojik uri dulppunin yeogi (Love)" },
      { time: 117, text: "Jeomjeom deo ppajyeodeuneun mood" },
      { time: 125, text: "Jungnyeoge ikkeullin deusi" },
      { time: 133, text: "Closer and closer into you" },
      { time: 141, text: "I can't control this chemistry" },
      { time: 149, text: "Nal mangchin daedo joeul mankeum" },
      { time: 157, text: "Kiss my lips, just-just like magic" },
      { time: 165, text: "Move your hips, chojohaejin momjit" },
      { time: 173, text: "Deulkyeosseo, you got a habit, ooh" },
      { time: 181, text: "Irresistible (Body got you obsessed)" },
      { time: 189, text: "Irresistible (In my little black dress)" },
      { time: 197, text: "Irresistible (Betcha losin' your breath)" },
      { time: 205, text: "They tell me, my kiss is so irresistible" },
      { time: 213, text: "Irresistible (Taking over your world)" },
      { time: 221, text: "Irresistible (In my diamonds and pearls)" },
      { time: 229, text: "Irresistible (You're falling in love)" },
      { time: 237, text: "They tell me, my kiss is so irresistible" }
    ];

    audio.addEventListener('timeupdate', () => {
      const currentTime = audio.currentTime;
      for (let i = lyrics.length - 1; i >= 0; i--) {
        if (currentTime >= lyrics[i].time) {
          lyricBar.textContent = lyrics[i].text;
          break;
        }
      }
    });
  </script>
</body>
</html>
